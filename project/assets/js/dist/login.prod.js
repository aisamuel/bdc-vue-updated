"use strict";var loginApp=new Vue({el:"#loginApp",data:{email:"",password:"",isLoading:!1,loginURL:"".concat(baseURL,"reg/login/"),errorMessage:"",errorTimeOut:3e3},methods:{login:function(){var o=this;this.isLoading=!0,fetch(this.loginURL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailOrPhone:this.email,password:this.password})}).then(function(e){return e.json()}).then(function(e){console.log("Success:",e),e&&e.token?(o.setToken(e.token),o.setUserProfile(JSON.stringify(e.user)),window.location.href="/new-transaction"):(o.errorMessage=e?e.message:"No response from server",o.clearError()),o.isLoading=!1}).catch(function(e){o.isLoading=!1,console.error("Error:",e)})},clearError:function(){var e=this;setTimeout(function(){e.errorMessage=""},this.errorTimeOut)}},mounted:function(){this.getUserProfile=getUserProfile,this.setUserProfile=setUserProfile,this.setToken=setToken,this.getToken=getToken,this.getUserProfile()&&(window.location.href="/new-transaction")}});